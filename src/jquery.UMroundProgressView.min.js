/** UMroundProgressView jQuery.subclass || Version: 1.0
* (C) 2013, MikO (Michael Ochmann) */
var instanceCount=0;(function(e){e.fn.UMroundProgressView=function(t){var n;var r=this;var i;var s=e.extend({color:"#00D11B",size:"100",initialValue:"0.0",thickness:"20"},t);var o={getRadians:function(e){degrees=e*360+90;return degrees*Math.PI/180},drawBackground:function(){n.clearRect(0,0,n.canvas.width,n.canvas.height);n.shadowColor="rgba(0,0,0,0.0)";n.beginPath();n.arc(s.size/2,s.size/2,s.size/2-5,0,o.getRadians(1),false);n.closePath();n.fillStyle="#dddddd";n.fill()},drawPie:function(e){i=e;n.beginPath();n.moveTo(s.size/2,s.size/2);n.lineTo(s.size/2,s.size);n.arc(s.size/2,s.size/2,s.size/2-5,.5*Math.PI,o.getRadians(e),false);n.lineTo(s.size/2,s.size/2);n.closePath();n.fillStyle=s.color;n.fill()},drawPlate:function(){n.beginPath();n.moveTo(s.size/2,s.size/2);n.arc(s.size/2,s.size/2,s.size/2-s.thickness,0,o.getRadians(1),false);n.closePath();n.shadowOffsetY=1;n.shadowColor="rgba(0,0,0,0.5)";n.shadowBlur=1;n.shadowOffsetX=0;n.shadowOffsetY=1;n.fillStyle="#ffffff";n.fill();n.fillStyle="#444444";n.textAlign="center";n.textBaseline="middle";n.font=(s.size-s.thickness)*.25+"px helvetica";n.fillText(Math.round(i*100)+"%",s.size/2,s.size/2)},init:function(){instanceCount=instanceCount+1;r.html("<canvas width='"+s.size+"px' height='"+s.size+"px' id='UMProgressView_"+instanceCount+"'></canvas>");canvasID=r.children("canvas").attr("id");n=document.getElementById(canvasID).getContext("2d");o.drawBackground();o.drawPie(s.initialValue);o.drawPlate()}};var u=function(e){o.drawBackground();o.drawPie(e);o.drawPlate()};o.init();return{setValue:u}}})(jQuery)